{"remainingRequest":"e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\node_modules\\babel-loader\\lib\\index.js!e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\src\\views\\HomeSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\src\\views\\HomeSearch.vue","mtime":1580530289886},{"path":"e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHNlYXJjaExpc3QgZnJvbSAiLi4vY29tcG9uZW50cy9TZWFyY2hMaXN0LnZ1ZSI7IC8vIGltcG9ydCBzZWFyY2hEZXRhaWxzIGZyb20gIi4uL2NvbXBvbmVudHMvU2VhcmNoRGV0YWlscy52dWUiOwoKaW1wb3J0IHNvbmcgZnJvbSAiLi4vY29tcG9uZW50cy9zaW5nbGVTb25nLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBzZWFyY2hMaXN0OiBzZWFyY2hMaXN0LAogICAgLy8gc2VhcmNoRGV0YWlscwogICAgc29uZzogc29uZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaEhvdDogW10sCiAgICAgIHNlYXJjaFR4dDogIiIsCiAgICAgIHNlYXJjaFJlY29tbWVuZDogbnVsbCwKICAgICAgc2VhcmNoUmVzdWx0OiBudWxsLAogICAgICBvdXREZXRhaWxzOiBmYWxzZSwKICAgICAgYmVzdE1hdGU6IG51bGwsCiAgICAgIHNlYXJjaEhpc3Rvcnk6IFtdLAogICAgICBtb3JlTWVzc2FnZTogbnVsbCwKICAgICAgc3dpY2g6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0U2VhdGNoSG90KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVFbmQ6IGZ1bmN0aW9uIGhhbmRsZUVuZChldmVudCkgewogICAgICB3aW5kb3cuY29uc29sZS5sb2coZXZlbnQpOwogICAgfSwKICAgIC8vIOaQnOe0ok1WJuatjOaJiybkuJPovpHnmoTor6bnu4bkv6Hmga8KICAgIGdldE1vcmVNc3NhZ2U6IGZ1bmN0aW9uIGdldE1vcmVNc3NhZ2UoaWQsIGtpbmQpIHsKICAgICAgaWYgKGtpbmQgPT0gIk1WIikgewogICAgICAgIHRoaXMuYXhpb3MuZ2V0KCJodHRwczovL211c2ljLmtlbGU4LmNuL212L3VybD9pZD0iICsgaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGtpbmQgPT0gImFsYnVtIikgewogICAgICAgIHRoaXMuYXhpb3MuZ2V0KCJodHRwczovL211c2ljLmtlbGU4LmNuL2FsYnVtL2RldGFpbC9keW5hbWljP2lkPSIgKyBpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAoa2luZCA9PSAic2luZ2xlIikgewogICAgICAgIHRoaXMuYXhpb3MuZ2V0KCJodHRwczovL211c2ljLmtlbGU4LmNuL2FydGlzdC9kZXNjP2lkPSIgKyBpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmm7/mjaLlhbPplK7lrZcKICAgIHJlcGxhY2VLZXl3b3JkOiBmdW5jdGlvbiByZXBsYWNlS2V5d29yZCh0eHQpIHsKICAgICAgcmV0dXJuIHR4dC5yZXBsYWNlKHRoaXMuc2VhcmNoVHh0LCAiPHNwYW4gY2xhc3M9J2hsJz4iLmNvbmNhdCh0aGlzLnNlYXJjaFR4dCwgIjwvc3Bhbj4iKSk7CiAgICB9LAogICAgLy8g5Yig6Zmk5pCc57Si6K6w5b2VCiAgICBkZWxIaXN0b3J5OiBmdW5jdGlvbiBkZWxIaXN0b3J5KHR4dCkgewogICAgICB0aGlzLnNlYXJjaEhpc3Rvcnkuc3BsaWNlKHRoaXMuc2VhcmNoSGlzdG9yeS5pbmRleE9mKHR4dCksIDEpOwogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oImhpc3RvcnkiLCBKU09OLnN0cmluZ2lmeSh0aGlzLnNlYXJjaEhpc3RvcnkpKTsKICAgIH0sCiAgICAvL+aQnOe0ouacgOS9s+WMuemFjQogICAgZ2V0QmVzdE1hdGU6IGZ1bmN0aW9uIGdldEJlc3RNYXRlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuc2VhcmNoVHh0KSB7CiAgICAgICAgdGhpcy5heGlvcy5nZXQoImh0dHBzOi8vbXVzaWMua2VsZTguY24vc2VhcmNoL211bHRpbWF0Y2g/a2V5d29yZHM9IiArIHRoaXMuc2VhcmNoVHh0KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXMuYmVzdE1hdGUgPSByZXNwb25zZS5kYXRhLnJlc3VsdDsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8v5pCc57Si57uT5p6cCiAgICBnZXRTZWFyY2hEZXRhaWxzOiBmdW5jdGlvbiBnZXRTZWFyY2hEZXRhaWxzKHR4dCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnNlYXJjaEhpc3RvcnkuaW5kZXhPZih0eHQpIDwgMCAmJiB0aGlzLnNlYXJjaFR4dCAhPSAiIikgewogICAgICAgIHRoaXMuc2VhcmNoSGlzdG9yeS51bnNoaWZ0KHR4dCk7CiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJoaXN0b3J5IiwgSlNPTi5zdHJpbmdpZnkodGhpcy5zZWFyY2hIaXN0b3J5KSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNlYXJjaFR4dCAhPSAiIikgewogICAgICAgIHRoaXMub3V0RGV0YWlscyA9IHRydWU7CiAgICAgICAgdGhpcy5heGlvcy5nZXQoImh0dHBzOi8vbXVzaWMua2VsZTguY24vc2VhcmNoP2tleXdvcmRzPSIgKyB0aGlzLnNlYXJjaFR4dCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzMi5zZWFyY2hSZXN1bHQgPSByZXNwb25zZS5kYXRhLnJlc3VsdDsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8v54Ot5pCcCiAgICBnZXRTZWF0Y2hIb3Q6IGZ1bmN0aW9uIGdldFNlYXRjaEhvdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJoaXN0b3J5IikpIHsKICAgICAgICB0aGlzLnNlYXJjaEhpc3RvcnkgPSBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaGlzdG9yeSIpKTsKICAgICAgfQoKICAgICAgdGhpcy5heGlvcy5nZXQoImh0dHBzOi8vbXVzaWMua2VsZTguY24vc2VhcmNoL2hvdCIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLnNlYXJjaEhvdCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0LmhvdHM7CiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/mkJzntKLmjqjojZAKICAgIHNlYXJjaENvbnRlbnQ6IGZ1bmN0aW9uIHNlYXJjaENvbnRlbnQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuc2VhcmNoVHh0ID09ICIiKSB7CiAgICAgICAgdGhpcy5vdXREZXRhaWxzID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIHRoaXMuc2VhcmNoVHh0OwogICAgICB2YXIgZmxhZyA9IHRydWU7CgogICAgICBpZiAoZmxhZyAmJiB0aGlzLnNlYXJjaFR4dCkgewogICAgICAgIGZsYWcgPSBmYWxzZTsKICAgICAgICB0aGlzLmF4aW9zLmdldCgiaHR0cHM6Ly9tdXNpYy5rZWxlOC5jbi9zZWFyY2gvc3VnZ2VzdD9rZXl3b3Jkcz0iICsgdGhpcy5zZWFyY2hUeHQgKyAiJnR5cGU9bW9iaWxlIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzNC5zZWFyY2hSZWNvbW1lbmQgPSByZXNwb25zZS5kYXRhLnJlc3VsdC5hbGxNYXRjaDsKICAgICAgICB9KTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGZsYWcgPSB0cnVlOwogICAgICAgIH0sIDUwMCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["HomeSearch.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"home-search\">\r\n      <div class=\"search-inp\">\r\n        <form action=\"\" @submit=\"getBestMate(),getSearchDetails(searchTxt)\">\r\n          <input\r\n          type=\"text\"\r\n          placeholder=\"搜索歌曲、歌手、专辑\"\r\n          v-model.trim=\"searchTxt\"\r\n          @focus=\"outDetails=false,swich=false\"\r\n          @input=\"searchContent(),swich=true\"\r\n        />\r\n        <i class=\"fa fa-search fl\"></i>\r\n        <i @click=\"searchTxt=''\" class=\"fa fa-times-circle fr\" v-show=\"searchTxt!==''\"></i>\r\n        </form>\r\n      </div>\r\n      <div class=\"search-hot\" v-if=\"searchTxt===''\">\r\n        <p>热门搜索</p>\r\n        <ul class=\"search-hot-list\">\r\n          <li\r\n            @click=\"searchTxt=item.first,getBestMate(),getSearchDetails(searchTxt)\"\r\n            v-for=\"(item, index) in searchHot\"\r\n            :key=\"index\"\r\n          >{{item.first}}</li>\r\n        </ul>\r\n        <ul class=\"search-history\" v-for=\"(item, index) in searchHistory\" :key=\"index\">\r\n          <li\r\n            @click=\"searchTxt=item,getBestMate(),getSearchDetails(searchTxt),searchHistory.unshift(searchHistory.splice(searchHistory.indexOf(item),1)[0])\"\r\n          >\r\n            <span>\r\n              <i class=\"fa fa-clock-o\"></i>\r\n            </span>\r\n            <p>\r\n              {{item}}\r\n              <i class=\"fa fa-close\" @click.stop=\"delHistory(item)\"></i>\r\n            </p>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"search-recommend\" v-if=\"searchTxt!==''&&!outDetails\">\r\n        <p @click=\"getBestMate(),getSearchDetails(searchTxt)\" class=\"search-btn\">搜索“{{searchTxt.trim()}}”</p>\r\n        <ul>\r\n          <search-list\r\n            :recommendItem=\"item\"\r\n            v-for=\"(item, index) in searchRecommend\"\r\n            :key=\"index\"\r\n            :keyword=\"searchTxt\"\r\n            @outDetails=\"searchTxt=$event,getSearchDetails($event),getBestMate()\"\r\n          ></search-list>\r\n        </ul>\r\n      </div>\r\n      <div class=\"search-detail\" v-if=\"outDetails&&searchTxt!==''\">\r\n        <p class=\"detail\">最佳匹配</p>\r\n        <!-- 最佳匹配 -->\r\n        <div class=\"search-best-mate\" v-if=\"bestMate\">\r\n          <!-- 专辑 -->\r\n          <div\r\n            class=\"search-best-album search-best\"\r\n            @click=\"getMoreMssage(bestMate.album[0].id,'album')\"\r\n            v-if=\"bestMate.album\"\r\n          >\r\n            <h5>\r\n              <img :src=\"bestMate.album[0].blurPicUrl\" alt />\r\n            </h5>\r\n            <div class=\"message-box\">\r\n              <div class=\"message\">\r\n                <p v-html=\"'专辑:'+replaceKeyword(bestMate.album[0].name)\"></p>\r\n                <span\r\n                  class=\"single-name hl\"\r\n                  v-html=\"replaceKeyword(bestMate.album[0].artists[0].name)\"\r\n                ></span>\r\n              </div>\r\n              <i class=\"fa fa-angle-right\"></i>\r\n            </div>\r\n          </div>\r\n          <!-- 歌手 -->\r\n          <div\r\n            class=\"search-best-song search-best\"\r\n            @click=\"getMoreMssage(bestMate.artist[0].id,'single')\"\r\n            v-if=\"bestMate.artist\"\r\n          >\r\n            <h5>\r\n              <img :src=\"bestMate.artist[0].img1v1Url\" alt />\r\n            </h5>\r\n            <div class=\"message-box\">\r\n              <div class=\"message\">\r\n                <p v-html=\"'歌手:'+replaceKeyword(bestMate.artist[0].name)\"></p>\r\n              </div>\r\n              <i class=\"fa fa-angle-right\"></i>\r\n            </div>\r\n          </div>\r\n          <!-- MV -->\r\n          <div class=\"search-best-Mv search-best-mv\" v-if=\"bestMate.mv\">\r\n            <h5>\r\n              <img :src=\"bestMate.mv[0].cover\" alt />\r\n              <i class=\"fa fa-play\"></i>\r\n            </h5>\r\n            <div class=\"message-box\">\r\n              <div class=\"message\">\r\n                <p v-html=\"'MV:'+replaceKeyword(bestMate.mv[0].name)\"></p>\r\n                <span class=\"single-name\" v-html=\"replaceKeyword(bestMate.mv[0].artistName)\"></span>\r\n              </div>\r\n              <i class=\"fa fa-angle-right\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ul v-if=\"searchResult&&searchTxt!=''\">\r\n          <song\r\n            @onPlayer=\"$emit('onPlayer',$event)\"\r\n            v-for=\"(item, index) in searchResult.songs\"\r\n            :key=\"index\"\r\n            :searchResultList=\"item\"\r\n            :text=\"searchTxt\"\r\n            :search=\"true\"\r\n            :songList=\"searchResult.songs\"\r\n          ></song>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport searchList from \"../components/SearchList.vue\";\r\n// import searchDetails from \"../components/SearchDetails.vue\";\r\nimport song from \"../components/singleSong.vue\";\r\nexport default {\r\n  components: {\r\n    searchList,\r\n    // searchDetails\r\n    song\r\n  },\r\n  data() {\r\n    return {\r\n      searchHot: [],\r\n      searchTxt: \"\",\r\n      searchRecommend: null,\r\n      searchResult: null,\r\n      outDetails: false,\r\n      bestMate: null,\r\n      searchHistory: [],\r\n      moreMessage: null,\r\n      swich: false\r\n    };\r\n  },\r\n  created() {\r\n    this.getSeatchHot();\r\n  },\r\n  methods: {\r\n    handleEnd(event) {\r\n      window.console.log(event);\r\n    },\r\n    // 搜索MV&歌手&专辑的详细信息\r\n    getMoreMssage(id, kind) {\r\n      if (kind == \"MV\") {\r\n        this.axios\r\n          .get(\"https://music.kele8.cn/mv/url?id=\" + id)\r\n          .then(response => {\r\n            window.console.log(response);\r\n          });\r\n      } else if (kind == \"album\") {\r\n        this.axios\r\n          .get(\"https://music.kele8.cn/album/detail/dynamic?id=\" + id)\r\n          .then(response => {\r\n            window.console.log(response);\r\n          });\r\n      } else if (kind == \"single\") {\r\n        this.axios\r\n          .get(\"https://music.kele8.cn/artist/desc?id=\" + id)\r\n          .then(response => {\r\n            window.console.log(response);\r\n          });\r\n      }\r\n    },\r\n    // 替换关键字\r\n    replaceKeyword(txt) {\r\n      return txt.replace(\r\n        this.searchTxt,\r\n        `<span class='hl'>${this.searchTxt}</span>`\r\n      );\r\n    },\r\n    // 删除搜索记录\r\n    delHistory(txt) {\r\n      this.searchHistory.splice(this.searchHistory.indexOf(txt), 1);\r\n      window.localStorage.setItem(\r\n        \"history\",\r\n        JSON.stringify(this.searchHistory)\r\n      );\r\n    },\r\n    //搜索最佳匹配\r\n    getBestMate() {\r\n      if (this.searchTxt) {\r\n        \r\n      this.axios\r\n        .get(\r\n          \"https://music.kele8.cn/search/multimatch?keywords=\" + this.searchTxt\r\n        )\r\n        .then(response => {\r\n          ({ result: this.bestMate } = response.data);\r\n        });\r\n      }\r\n\r\n    },\r\n    //搜索结果\r\n    getSearchDetails(txt) {\r\n      if (this.searchHistory.indexOf(txt) < 0 &&this.searchTxt!=\"\") {\r\n        this.searchHistory.unshift(txt);\r\n        window.localStorage.setItem(\r\n          \"history\",\r\n          JSON.stringify(this.searchHistory)\r\n        );\r\n        \r\n      }\r\n      if (this.searchTxt!=\"\") {\r\n        this.outDetails = true;\r\n        this.axios\r\n          .get(\"https://music.kele8.cn/search?keywords=\" + this.searchTxt)\r\n          .then(response => {\r\n            ({ result: this.searchResult } = response.data);\r\n          });\r\n      }\r\n    },\r\n    //热搜\r\n    getSeatchHot() {\r\n      if (window.localStorage.getItem(\"history\")) {\r\n        this.searchHistory = JSON.parse(window.localStorage.getItem(\"history\"));\r\n      }\r\n      this.axios\r\n        .get(\"https://music.kele8.cn/search/hot\")\r\n        .then(response => {\r\n          ({ hots: this.searchHot } = response.data.result);\r\n          window.console.log(response)\r\n        });\r\n    },\r\n    //搜索推荐\r\n    searchContent() {\r\n      if (this.searchTxt == \"\") {\r\n        this.outDetails = false;\r\n      }this.searchTxt\r\n      let flag = true;\r\n      if (flag&&this.searchTxt) {\r\n        flag = false;\r\n        this.axios\r\n          .get(\r\n            \"https://music.kele8.cn/search/suggest?keywords=\" +\r\n              this.searchTxt +\r\n              \"&type=mobile\"\r\n          )\r\n          .then(response => {\r\n            ({ allMatch: this.searchRecommend } = response.data.result);\r\n          });\r\n        setTimeout(() => {\r\n          flag = true;\r\n        }, 500);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.hl {\r\n  color: #507daf;\r\n  font-style: normal;\r\n}\r\n.search-history {\r\n  li {\r\n    display: flex;\r\n    span {\r\n      display: block;\r\n      width: 30px;\r\n      text-align: center;\r\n      i {\r\n        color: rgb(194, 194, 194);\r\n        font-size: 18px;\r\n        line-height: 45px;\r\n      }\r\n    }\r\n    p {\r\n      flex: 1 0 auto;\r\n      line-height: 45px;\r\n      margin: 0;\r\n      font-size: 14px;\r\n      color: #333;\r\n      padding: 0;\r\n      border-bottom: 0.5px solid rgba(0, 0, 0, 0.2);\r\n      i {\r\n        float: right;\r\n        color: rgb(111, 111, 111);\r\n        font-size: 18px;\r\n        line-height: 45px;\r\n        font-weight: 100;\r\n        margin-right: 10px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.search-best-mate {\r\n  .search-best {\r\n    display: flex;\r\n    padding: 8px 10px;\r\n    padding-left: 0;\r\n    margin-left: 10px;\r\n    border-bottom: 0.5px solid rgba(0, 0, 0, 0.2);\r\n    h5 {\r\n      width: 50px;\r\n      height: 50px;\r\n      margin-right: 15px;\r\n      img {\r\n        width: 100%;\r\n      }\r\n    }\r\n  }\r\n  .search-best-mv,\r\n  .search-best-album .message-box {\r\n    p {\r\n      line-height: 26px;\r\n    }\r\n    .single-name {\r\n      color: rgb(174, 174, 174);\r\n      font-size: 12px;\r\n      line-height: 15px;\r\n    }\r\n  }\r\n  .search-best-mv {\r\n    display: flex;\r\n    padding: 8px 10px;\r\n    padding-left: 0;\r\n    margin-left: 10px;\r\n    border-bottom: 0.5px solid rgba(0, 0, 0, 0.2);\r\n    h5 {\r\n      position: relative;\r\n      width: 100px;\r\n      height: 50px;\r\n      margin-right: 15px;\r\n      img {\r\n        width: 100%;\r\n        height: 50px;\r\n      }\r\n      i {\r\n        position: absolute;\r\n        display: inline-block;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        font-size: 12px;\r\n        background: rgba(126, 126, 126, 0.347);\r\n        width: 27px;\r\n        height: 27px;\r\n        text-align: center;\r\n        line-height: 27px;\r\n        border-radius: 50%;\r\n        color: white;\r\n      }\r\n    }\r\n  }\r\n\r\n  .message-box {\r\n    flex: 1 0 auto;\r\n    display: flex;\r\n    .message {\r\n      display: inline-block;\r\n      flex: 1 0 auto;\r\n    }\r\n    .fa {\r\n      width: 40px;\r\n      float: right;\r\n      line-height: 50px;\r\n      font-size: 26px;\r\n      color: #a9a9a9;\r\n      text-align: center;\r\n    }\r\n  }\r\n  .search-best-song {\r\n    .message-box {\r\n      display: flex;\r\n      .message {\r\n        line-height: 50px;\r\n        font-size: 17px;\r\n        color: #333333;\r\n        display: inline-block;\r\n        flex: 1 0 auto;\r\n      }\r\n      .fa {\r\n        width: 40px;\r\n        float: right;\r\n      }\r\n    }\r\n  }\r\n}\r\n.search-inp {\r\n  padding: 15px 10px;\r\n  position: relative;\r\n  border-bottom: 1px solid #eeeeee9e;\r\n  input {\r\n    border-radius: 20px;\r\n    outline: none;\r\n    border: none;\r\n    background: #ebecec;\r\n    width: 100%;\r\n    height: 30px;\r\n    padding: 0 30px;\r\n  }\r\n  i.fl {\r\n    position: absolute;\r\n    top: 22px;\r\n    left: 15px;\r\n    font-size: 14px;\r\n    color: rgb(194, 194, 194);\r\n  }\r\n  i.fr {\r\n    position: absolute;\r\n    top: 22px;\r\n    right: 15px;\r\n    font-size: 16px;\r\n    color: rgb(194, 194, 194);\r\n  }\r\n}\r\n.search-hot {\r\n  padding: 15px 10px 0 10px;\r\n  p {\r\n    margin-bottom: 0;\r\n    font-size: 12px;\r\n    color: rgb(148, 148, 148);\r\n    padding-left: 3px;\r\n    padding-top: 2px;\r\n    margin-bottom: 10px;\r\n  }\r\n  .search-hot-list {\r\n    li {\r\n      display: inline-block;\r\n      border-radius: 15px;\r\n      border: 1px solid #d3d4da;\r\n      height: 28px;\r\n      margin-right: 8px;\r\n      margin-bottom: 8px;\r\n      padding: 0 14px;\r\n      font-size: 14px;\r\n      line-height: 28px;\r\n      color: #333;\r\n    }\r\n  }\r\n}\r\n.search-recommend {\r\n  p {\r\n    padding: 5px 10px;\r\n    color: #507daf;\r\n    line-height: 40px;\r\n    border-bottom: 0.5px solid #d6d6d6cb;\r\n    font-size: 16px;\r\n  }\r\n}\r\n.search-detail {\r\n  padding-top: 8px;\r\n  p.detail {\r\n    margin-left: 10px;\r\n    font-size: 12px;\r\n    line-height: 16px;\r\n    color: #666;\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/views"}]}