{"remainingRequest":"e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\src\\views\\HomeSearch.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\src\\views\\HomeSearch.vue","mtime":1577762084645},{"path":"e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"e:\\0.0\\粤嵌\\Vue.js\\project\\my-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5zZWFyY2gtaW5wIHsNCiAgcGFkZGluZzogMTVweCAxMHB4Ow0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlZWVlOWU7DQogIGlucHV0IHsNCiAgICBib3JkZXItcmFkaXVzOiAyMHB4Ow0KICAgIG91dGxpbmU6IG5vbmU7DQogICAgYm9yZGVyOiBub25lOw0KICAgIGJhY2tncm91bmQ6ICNlYmVjZWM7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiAzMHB4Ow0KICAgIHBhZGRpbmc6IDAgMzBweDsNCiAgfQ0KICBpIHsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgdG9wOiAyMnB4Ow0KICAgIGxlZnQ6IDE1cHg7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KICAgIGNvbG9yOiByZ2IoMTk0LCAxOTQsIDE5NCk7DQogIH0NCn0NCi5zZWFyY2gtaG90IHsNCiAgcGFkZGluZzogMTVweCAxMHB4IDAgMTBweDsNCiAgcCB7DQogICAgbWFyZ2luLWJvdHRvbTogMDsNCiAgICBmb250LXNpemU6IDEycHg7DQogICAgY29sb3I6IHJnYigxNDgsIDE0OCwgMTQ4KTsNCiAgICBwYWRkaW5nLWxlZnQ6IDNweDsNCiAgICBwYWRkaW5nLXRvcDogMnB4Ow0KICAgIG1hcmdpbi1ib3R0b206IDEwcHg7DQogIH0NCiAgLnNlYXJjaC1ob3QtbGlzdCB7DQogICAgbGkgew0KICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgICAgYm9yZGVyLXJhZGl1czogMTVweDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkM2Q0ZGE7DQogICAgICBoZWlnaHQ6IDMycHg7DQogICAgICBtYXJnaW4tcmlnaHQ6IDhweDsNCiAgICAgIG1hcmdpbi1ib3R0b206IDhweDsNCiAgICAgIHBhZGRpbmc6IDAgMTRweDsNCiAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICAgIGxpbmUtaGVpZ2h0OiAzMnB4Ow0KICAgICAgY29sb3I6ICMzMzM7DQogICAgfQ0KICB9DQp9DQouc2VhcmNoLXJlY29tbWVuZCB7DQogIHAgew0KICAgIHBhZGRpbmc6IDVweCAxMHB4Ow0KICAgIGNvbG9yOiAjNTA3ZGFmOw0KICAgIGxpbmUtaGVpZ2h0OiA0MHB4Ow0KICAgIGJvcmRlci1ib3R0b206IDAuNXB4IHNvbGlkICNkNmQ2ZDZjYjsNCiAgICBmb250LXNpemU6IDE2cHg7DQogIH0NCn0NCi5zZWFyY2gtZGV0YWlsIHsNCiAgcGFkZGluZy10b3A6IDhweDsNCiAgcC5kZXRhaWwgew0KICAgIG1hcmdpbi1sZWZ0OiAxMHB4Ow0KICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICBsaW5lLWhlaWdodDogMTZweDsNCiAgICBjb2xvcjogIzY2NjsNCiAgfQ0KfQ0K"},{"version":3,"sources":["HomeSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HomeSearch.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"home-search\">\r\n      <div class=\"search-inp\">\r\n        <input type=\"text\" placeholder=\"搜索歌曲、歌手、专辑\" v-model=\"searchTxt\" @input=\"searchContent()\" />\r\n        <i class=\"fa fa-search\"></i>\r\n      </div>\r\n      <div class=\"search-hot\" v-if=\"searchTxt===''\">\r\n        <p>热门搜索</p>\r\n        <ul class=\"search-hot-list\">\r\n          <li v-for=\"(item, index) in searchHot\" :key=\"index\">{{item.first}}</li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"search-recommend\" v-if=\"searchTxt!==''&&!outDetails\">\r\n        <p>搜索“{{searchTxt}}”</p>\r\n        <ul>\r\n          <search-list\r\n            :recommendItem=\"item\"\r\n            v-for=\"(item, index) in searchRecommend\"\r\n            :key=\"index\"\r\n            :keyword=\"searchTxt\"\r\n            @outDetails=\"getSearchDetails($event),getBestMate()\"\r\n          ></search-list>\r\n        </ul>\r\n      </div>\r\n      <div class=\"search-detail\" v-if=\"outDetails&&searchTxt!==''\">\r\n        <p class=\"detail\">最佳匹配</p>\r\n        <div class=\"search-best\" v-if=\"bestMate\">\r\n          <!-- 专辑 -->\r\n          <div class=\"search-best-album\" v-if=\"bestMate.album\">\r\n            <h5>\r\n              <img src alt />\r\n            </h5>\r\n            <div class=\"message\">\r\n              <p>\r\n                专辑:\r\n                <span class=\"song-name\"></span>\r\n              </p>\r\n              <span class=\"single-name\"></span>\r\n            </div>\r\n          </div>\r\n          <!-- 歌手 -->\r\n          <div class=\"search-best-Song\"  v-if=\"bestMate.artist\">\r\n            <h5>\r\n              <img src alt />\r\n            </h5>\r\n            <div class=\"message\">\r\n             <p>歌手:<span class=\"single-name\">{{searchResult.artist[0].name}}</span></p>\r\n            </div>\r\n          </div>\r\n          <!-- MV -->\r\n          <div class=\"search-best-Mv\"  v-if=\"bestMate.mv\">\r\n            <h5>\r\n              <img src alt />\r\n            </h5>\r\n            <div class=\"message\">\r\n              <p>\r\n                MV:\r\n                <span class=\"song-name\"></span>\r\n              </p>\r\n              <span class=\"single-name\"></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ul v-if=\"searchResult\">\r\n          <search-details\r\n            v-for=\"(item, index) in searchResult.songs\"\r\n            :key=\"index\"\r\n            :searchResultList=\"item\"\r\n          ></search-details>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport searchList from \"../components/SearchList.vue\";\r\nimport searchDetails from \"../components/SearchDetails.vue\";\r\nexport default {\r\n  components: {\r\n    searchList,\r\n    searchDetails\r\n  },\r\n  data() {\r\n    return {\r\n      searchHot: [],\r\n      searchTxt: \"\",\r\n      searchRecommend: null,\r\n      searchResult: null,\r\n      outDetails: false,\r\n      bestMate: null\r\n    };\r\n  },\r\n  created() {\r\n    this.getSeatchHot();\r\n  },\r\n  methods: {\r\n    //搜索的最佳匹配\r\n    getBestMate() {\r\n      this.axios\r\n        .get(\r\n          \"http://music.kele8.cn/search/multimatch?keywords=\" + this.searchTxt\r\n        )\r\n        .then(response => {\r\n          window.console.log(response,\"ss\");\r\n          ({result:this.bestMate}=response.data)\r\n        });\r\n    },\r\n    //搜索结果\r\n    getSearchDetails(txt) {\r\n      this.outDetails = true;\r\n      this.searchTxt=txt\r\n      this.axios\r\n        .get(\"http://music.kele8.cn/search?keywords=\" + this.searchTxt)\r\n        .then(response => {\r\n          ({ result: this.searchResult } = response.data);\r\n        });\r\n    },\r\n    //热搜\r\n    getSeatchHot() {\r\n      this.axios\r\n        .get(\"http://musicapi.leanapp.cn/search/hot/detail\")\r\n        .then(response => {\r\n          ({ hots: this.searchHot } = response.data.result);\r\n          window.console.log(this.searchHot);\r\n        });\r\n    },\r\n    //搜索推荐\r\n    searchContent() {\r\n      if (this.searchTxt == \"\") {\r\n        this.outDetails = false;\r\n      }\r\n      let flag = true;\r\n      if (flag) {\r\n        flag = false;\r\n        this.axios\r\n          .get(\r\n            \"http://music.kele8.cn/search/suggest?keywords=\" +\r\n              this.searchTxt +\r\n              \"&type=mobile\"\r\n          )\r\n          .then(response => {\r\n            ({ allMatch: this.searchRecommend } = response.data.result);\r\n            window.console.log(response);\r\n          });\r\n        setTimeout(() => {\r\n          flag = true;\r\n        }, 500);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.search-inp {\r\n  padding: 15px 10px;\r\n  position: relative;\r\n  border-bottom: 1px solid #eeeeee9e;\r\n  input {\r\n    border-radius: 20px;\r\n    outline: none;\r\n    border: none;\r\n    background: #ebecec;\r\n    width: 100%;\r\n    height: 30px;\r\n    padding: 0 30px;\r\n  }\r\n  i {\r\n    position: absolute;\r\n    top: 22px;\r\n    left: 15px;\r\n    font-size: 14px;\r\n    color: rgb(194, 194, 194);\r\n  }\r\n}\r\n.search-hot {\r\n  padding: 15px 10px 0 10px;\r\n  p {\r\n    margin-bottom: 0;\r\n    font-size: 12px;\r\n    color: rgb(148, 148, 148);\r\n    padding-left: 3px;\r\n    padding-top: 2px;\r\n    margin-bottom: 10px;\r\n  }\r\n  .search-hot-list {\r\n    li {\r\n      display: inline-block;\r\n      border-radius: 15px;\r\n      border: 1px solid #d3d4da;\r\n      height: 32px;\r\n      margin-right: 8px;\r\n      margin-bottom: 8px;\r\n      padding: 0 14px;\r\n      font-size: 14px;\r\n      line-height: 32px;\r\n      color: #333;\r\n    }\r\n  }\r\n}\r\n.search-recommend {\r\n  p {\r\n    padding: 5px 10px;\r\n    color: #507daf;\r\n    line-height: 40px;\r\n    border-bottom: 0.5px solid #d6d6d6cb;\r\n    font-size: 16px;\r\n  }\r\n}\r\n.search-detail {\r\n  padding-top: 8px;\r\n  p.detail {\r\n    margin-left: 10px;\r\n    font-size: 12px;\r\n    line-height: 16px;\r\n    color: #666;\r\n  }\r\n}\r\n</style>"]}]}