{"remainingRequest":"H:\\1962VUE-cil-router\\vueAPp\\fictionapp\\node_modules\\babel-loader\\lib\\index.js!H:\\1962VUE-cil-router\\vueAPp\\fictionapp\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!H:\\1962VUE-cil-router\\vueAPp\\fictionapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!H:\\1962VUE-cil-router\\vueAPp\\fictionapp\\src\\components\\HomeSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"H:\\1962VUE-cil-router\\vueAPp\\fictionapp\\src\\components\\HomeSearch.vue","mtime":1578568708000},{"path":"H:\\1962VUE-cil-router\\vueAPp\\fictionapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\1962VUE-cil-router\\vueAPp\\fictionapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"H:\\1962VUE-cil-router\\vueAPp\\fictionapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\1962VUE-cil-router\\vueAPp\\fictionapp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLyBpbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g54Ot6Zeo5pCc57Si5pWw5o2uCiAgICAgIGhvdFdvcmRzOiBbXSwKICAgICAgc2VhcmNoSW5kZXg6IDAsCiAgICAgIHNwZWVkOiAyNywKICAgICAgLy8g5L2/55So6KGM5YaF5qC35byP5o6n5Yi2CiAgICAgIGlzVHJhbnNpdGlvblN0cjogImFsbCAxcyIsCiAgICAgIC8vIOS9v+eUqOexu+WQjeaOp+WItgogICAgICBpc1RyYW5zaXRpb246IHRydWUsCiAgICAgIHNoYW5odWk6IG51bGwsCiAgICAgIGlkOiBudWxsLAogICAgICB0ZXh0OiAidGV4dCIKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgc2VhcmNoVmFsdWU6IGZ1bmN0aW9uIHNlYXJjaFZhbHVlKCkgewogICAgICByZXR1cm4gdGhpcy5ob3RXb3Jkc1t0aGlzLnNlYXJjaEluZGV4XTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vICAg5pCc57Si5oyJ6ZKu6KKr54K55Ye7IOi3s+i9rOWIsCDmkJzntKLnu5PmnpwKICAgIHNlYXJjaEJ0bkNsaWNrRm46IGZ1bmN0aW9uIHNlYXJjaEJ0bkNsaWNrRm4oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL1NlYXJjaExpc3QiLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICB2YWx1ZTogdGhpcy5zZWFyY2hWYWx1ZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8gaW5wdXTooqvngrnlh7vov5vlhaXmkJzntKLnlYzpnaIKICAgIHNlYXJjaENsaWNrRm46IGZ1bmN0aW9uIHNlYXJjaENsaWNrRm4oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL1NlYXJjaCIKICAgICAgfSk7CiAgICB9LAogICAgYXV0b3BsYXk6IGZ1bmN0aW9uIGF1dG9wbGF5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8g5Y+q5pyJ5pyA5ZCO5LiA5byg55qE5YGH5bC+5be05Y+v5Lul6Zeq5Zue77yM5pyA5ZCO5LiA5byg55qE57Si5byV5YC8KGxlbmd0aCAtIDEp5omN5Lya5aSn5LqOIGxlbmdodC0gMgogICAgICBpZiAodGhpcy5zZWFyY2hJbmRleCA+IHRoaXMuaG90V29yZHMubGVuZ3RoIC0gMikgewogICAgICAgIC8vIOS4jeinpuWPkei/h+a4oeaViOaenOS4i++8jOabtOaWsGRvbeeahOS9jee9ruWbnuWIsOi1t+eCuQogICAgICAgIC8vIHRoaXMuaXNUcmFuc2l0aW9uID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc1RyYW5zaXRpb25TdHIgPSAibm9uZSI7IC8vIOW8gOWQr+mXquWbngoKICAgICAgICB0aGlzLnNoYW5odWkgPSAiMCI7IC8vIOmXquWQjuimgeWOu+eahOS9jee9rgoKICAgICAgICB0aGlzLnNlYXJjaEluZGV4ID0gMDsgLy8g5riF6Zmk5a6a5pe25ZmoCgogICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaWQpOyAvLyDlvILmraXlj6/ku6Xkvb/ph4zpnaLmm7TmlrDop4blm77ni6znq4vlh7rmnaXmiJDkuLrkuIDluKcs5byC5q2l6Zeq5ZueCgogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8g5oGi5aSN6L+H5rih5pWI5p6cCiAgICAgICAgICAvLyB0aGlzLmlzVHJhbnNpdGlvbiA9IHRydWU7CiAgICAgICAgICBfdGhpcy5pc1RyYW5zaXRpb25TdHIgPSAiYWxsIDFzIjsgLy8g5YWz6Zet6Zeq5ZueCgogICAgICAgICAgX3RoaXMuc2hhbmh1aSA9IG51bGw7IC8vIOabtOaWsOinhuWbvgoKICAgICAgICAgIF90aGlzLnNlYXJjaEluZGV4Kys7IC8vIHRoaXMuYXV0b3BsYXkoKTsKCiAgICAgICAgICBfdGhpcy5pZCA9IHNldEludGVydmFsKF90aGlzLmF1dG9wbGF5LmJpbmQoX3RoaXMpLCAzMDAwKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5Y+q5pyJ5rua5Yqo5Yiw5ZCO5LiA5Liq5Zu+54mH5omN6ZyA6KaB6Zeq5Zue77yM5YW25LuW57Si5byV5LiL5YWz6ZetCiAgICAgICAgdGhpcy5zaGFuaHVpID0gbnVsbDsKICAgICAgfQoKICAgICAgdGhpcy5zZWFyY2hJbmRleCsrOwogICAgfQogIH0sCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAvLyDor7fmsYLng63pl6jmkJzntKLlhbPplK7lrZcKICAgIHRoaXMuYXhpb3MuZ2V0KCJodHRwOi8vbm92ZWwua2VsZTguY24vaG90LWJvb2tzIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgLy8g5oiq5Y+W5Y+W5YWt5Liq5pWw5o2uCiAgICAgIF90aGlzMi5ob3RXb3JkcyA9IHJlc3BvbnNlLmRhdGEuaG90V29yZHMuc2xpY2UoMCwgNik7CgogICAgICBfdGhpczIuaG90V29yZHMucHVzaChfdGhpczIuaG90V29yZHNbMF0pOwogICAgfSk7CiAgfSwKICAvLyBiZWZvcmVSb3V0ZUVudGVyKHRvLCBmcm9tLCBuZXh0KSB7CiAgLy8gICBWdWUuYXhpb3MuZ2V0KCJodHRwOi8vbm92ZWwua2VsZTguY24vaG90LWJvb2tzIikudGhlbihyZXNwb25zZSA9PiB7CiAgLy8gICAgIG5leHQodm0gPT4gewogIC8vICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLmhvdFdvcmRzKTsKICAvLyAgICAgICB2bS5ob3RXb3JkcyA9IHJlc3BvbnNlLmRhdGEuaG90V29yZHMuc2xpY2UoMCwgNik7CiAgLy8gICAgIH0pOwogIC8vICAgfSk7CiAgLy8gfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5pZCA9IHNldEludGVydmFsKHRoaXMuYXV0b3BsYXkuYmluZCh0aGlzKSwgMzAwMCk7CiAgfQp9Ow=="},{"version":3,"sources":["HomeSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA;AACA,MAAA,QAAA,EAAA,EAFA;AAIA,MAAA,WAAA,EAAA,CAJA;AAKA,MAAA,KAAA,EAAA,EALA;AAMA;AACA,MAAA,eAAA,EAAA,QAPA;AAQA;AACA,MAAA,YAAA,EAAA,IATA;AAUA,MAAA,OAAA,EAAA,IAVA;AAWA,MAAA,EAAA,EAAA,IAXA;AAYA,MAAA,IAAA,EAAA;AAZA,KAAA;AAcA,GAhBA;AAiBA,EAAA,QAAA,EAAA;AACA,IAAA,WAAA,EAAA,uBAAA;AACA,aAAA,KAAA,QAAA,CAAA,KAAA,WAAA,CAAA;AACA;AAHA,GAjBA;AAsBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,gBAFA,8BAEA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,aADA;AAEA,QAAA,KAAA,EAAA;AACA,UAAA,KAAA,EAAA,KAAA;AADA;AAFA,OAAA;AAMA,KATA;AAUA;AACA,IAAA,aAXA,2BAWA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA;AADA,OAAA;AAGA,KAfA;AAgBA,IAAA,QAAA,EAAA,oBAAA;AAAA;;AACA;AACA,UAAA,KAAA,WAAA,GAAA,KAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA;AACA;AACA,aAAA,eAAA,GAAA,MAAA,CAHA,CAIA;;AACA,aAAA,OAAA,GAAA,GAAA,CALA,CAMA;;AACA,aAAA,WAAA,GAAA,CAAA,CAPA,CAQA;;AACA,QAAA,MAAA,CAAA,aAAA,CAAA,KAAA,EAAA,EATA,CAUA;;AACA,QAAA,UAAA,CAAA,YAAA;AACA;AACA;AACA,UAAA,KAAA,CAAA,eAAA,GAAA,QAAA,CAHA,CAIA;;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,IAAA,CALA,CAMA;;AACA,UAAA,KAAA,CAAA,WAAA,GAPA,CAQA;;AACA,UAAA,KAAA,CAAA,EAAA,GAAA,WAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,KAAA,CAAA,EAAA,IAAA,CAAA;AACA,SAVA,CAAA;AAWA;AACA,OAvBA,MAuBA;AACA;AACA,aAAA,OAAA,GAAA,IAAA;AACA;;AAEA,WAAA,WAAA;AACA;AA/CA,GAtBA;AAuEA,EAAA,YAvEA,0BAuEA;AAAA;;AACA;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,iCAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA;AACA,MAAA,MAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA,CAAA,QAAA,CAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA;;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,MAAA,CAAA,QAAA,CAAA,CAAA,CAAA;AACA,KAJA;AAKA,GA9EA;AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAA,OAvFA,qBAuFA;AACA,SAAA,EAAA,GAAA,WAAA,CAAA,KAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA,IAAA,CAAA;AACA;AAzFA,CAAA","sourcesContent":["<template>\r\n  <div class=\"search\">\r\n    <div class=\"search-box\">\r\n      <div class=\"content\" @click.stop=\"searchClickFn\">\r\n        <div\r\n          :class=\"[text]\"\r\n          :style=\"{transform: 'translateY(-'+(shanhui? shanhui : searchIndex*speed)+'px)',transition:isTransitionStr}\"\r\n        >\r\n          <!-- , {tran:isTransition} -->\r\n          <!--  -->\r\n          <p v-for=\"(item, index) in hotWords\" :key=\"index\">{{item}}</p>\r\n        </div>\r\n        <div class=\"search-btn\" @click.stop=\"searchBtnClickFn\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n// import Vue from \"vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 热门搜索数据\r\n      hotWords: [],\r\n\r\n      searchIndex: 0,\r\n      speed: 27,\r\n      // 使用行内样式控制\r\n      isTransitionStr: \"all 1s\",\r\n      // 使用类名控制\r\n      isTransition: true,\r\n      shanhui: null,\r\n      id: null,\r\n      text: \"text\"\r\n    };\r\n  },\r\n  computed: {\r\n    searchValue: function() {\r\n      return this.hotWords[this.searchIndex];\r\n    }\r\n  },\r\n  methods: {\r\n    //   搜索按钮被点击 跳转到 搜索结果\r\n    searchBtnClickFn() {\r\n      this.$router.push({\r\n        path: \"/SearchList\",\r\n        query: {\r\n          value: this.searchValue\r\n        }\r\n      });\r\n    },\r\n    // input被点击进入搜索界面\r\n    searchClickFn() {\r\n      this.$router.push({\r\n        path: \"/Search\"\r\n      });\r\n    },\r\n    autoplay: function() {\r\n      // 只有最后一张的假尾巴可以闪回，最后一张的索引值(length - 1)才会大于 lenght- 2\r\n      if (this.searchIndex > this.hotWords.length - 2) {\r\n        // 不触发过渡效果下，更新dom的位置回到起点\r\n        // this.isTransition = false;\r\n        this.isTransitionStr = \"none\";\r\n        // 开启闪回\r\n        this.shanhui = \"0\";\r\n        // 闪后要去的位置\r\n        this.searchIndex = 0;\r\n        // 清除定时器\r\n        window.clearInterval(this.id);\r\n        // 异步可以使里面更新视图独立出来成为一帧,异步闪回\r\n        setTimeout(() => {\r\n          // 恢复过渡效果\r\n          // this.isTransition = true;\r\n          this.isTransitionStr = \"all 1s\";\r\n          // 关闭闪回\r\n          this.shanhui = null;\r\n          // 更新视图\r\n          this.searchIndex++;\r\n          // this.autoplay();\r\n          this.id = setInterval(this.autoplay.bind(this), 3000);\r\n        });\r\n        return;\r\n      } else {\r\n        // 只有滚动到后一个图片才需要闪回，其他索引下关闭\r\n        this.shanhui = null;\r\n      }\r\n\r\n      this.searchIndex++;\r\n    }\r\n  },\r\n  beforeCreate() {\r\n    // 请求热门搜索关键字\r\n    this.axios.get(\"http://novel.kele8.cn/hot-books\").then(response => {\r\n      // 截取取六个数据\r\n      this.hotWords = response.data.hotWords.slice(0, 6);\r\n      this.hotWords.push(this.hotWords[0]);\r\n    });\r\n  },\r\n  // beforeRouteEnter(to, from, next) {\r\n  //   Vue.axios.get(\"http://novel.kele8.cn/hot-books\").then(response => {\r\n  //     next(vm => {\r\n  //       window.console.log(response.data.hotWords);\r\n  //       vm.hotWords = response.data.hotWords.slice(0, 6);\r\n  //     });\r\n  //   });\r\n  // },\r\n  created() {\r\n    this.id = setInterval(this.autoplay.bind(this), 3000);\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.search {\r\n  width: 100%;\r\n  height: 34px;\r\n  padding: 3px 6px;\r\n  background-color: white;\r\n  .search-box {\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #e9e9e9;\r\n    border-radius: 5px;\r\n    padding: 5px 10px;\r\n    .content {\r\n      width: 100%;\r\n      height: 100%;\r\n      overflow: hidden;\r\n      position: relative;\r\n      display: flex;\r\n      .text {\r\n        flex: 1;\r\n        height: 100%;\r\n        // 这里要加CSS3自定义动画, CSS3自定义动画无法实现 无过渡效果下 从最后一张闪回第一张\r\n        // animation: mylunbo 10s ease 0.5s infinite;\r\n        // transition: all 0.3s;\r\n        transform: translateY(0px);\r\n        &.tran {\r\n          transition: all 0.3s;\r\n        }\r\n        p {\r\n          text-align: left;\r\n          font-size: 0.32rem;\r\n          color: #999;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n          // margin: 15px 0;\r\n        }\r\n      }\r\n      .search-btn {\r\n        width: 0.66667rem;\r\n        height: 0.66667rem;\r\n        background-image: url(../assets/search.png);\r\n        background-repeat: no-repeat;\r\n        background-size: 100% 100%;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}