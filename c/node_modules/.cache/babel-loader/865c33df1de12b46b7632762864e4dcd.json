{"remainingRequest":"g:\\1962VUE-cil-router\\vueAPp\\fictionapp\\node_modules\\babel-loader\\lib\\index.js!g:\\1962VUE-cil-router\\vueAPp\\fictionapp\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!g:\\1962VUE-cil-router\\vueAPp\\fictionapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!g:\\1962VUE-cil-router\\vueAPp\\fictionapp\\src\\views\\Ranking.vue?vue&type=script&lang=js&","dependencies":[{"path":"g:\\1962VUE-cil-router\\vueAPp\\fictionapp\\src\\views\\Ranking.vue","mtime":1584774844000},{"path":"g:\\1962VUE-cil-router\\vueAPp\\fictionapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"g:\\1962VUE-cil-router\\vueAPp\\fictionapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"g:\\1962VUE-cil-router\\vueAPp\\fictionapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"g:\\1962VUE-cil-router\\vueAPp\\fictionapp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEhlYWRzaG90IGZyb20gIi4uL2NvbXBvbmVudHMvaGVhZHNob3QiOwppbXBvcnQgYm9va3NMaXN0IGZyb20gIi4uL2NvbXBvbmVudHMvYm9va3NMaXN0IjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAi5o6S6KGM5qacIiwKICAgICAgYWN0aXZlOiAwLAogICAgICBhY3RpdmVLZXk6IDAsCiAgICAgIG1hbjogW10sCiAgICAgIG52OiBbXSwKICAgICAgY2h1YmFuOiBbXSwKICAgICAgbWFuMjogW10sCiAgICAgIG52MjogW10sCiAgICAgIGNodWJhbjI6IFtdLAogICAgICBjdXJyZW50QXJyOiBbXSwKICAgICAgY3VycmVudEFycjI6IFtdLAogICAgICB0YWJzOiBbIueVhemUgOamnCIsICLmnIDng63mppwiLCAi5r2c5Yqb5qacIiwgIumjmeWNh+amnCIsICLng63mkJzmppwiLCAi5a6M57uT5qacIiwgIuWlveivhOamnCIsICJWSVDmppwiLCAi55WZ5a2Y5qacIl0KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBIZWFkc2hvdDogSGVhZHNob3QsCiAgICBib29rc0xpc3Q6IGJvb2tzTGlzdAogIH0sCiAgbWV0aG9kczogewogICAgLy8g5LiA57qndGFiCiAgICB0YWJzQ2xpY2tGbjogZnVuY3Rpb24gdGFic0NsaWNrRm4oaW5kZXgsIHRpdGxlKSB7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyh0aXRsZSwgaW5kZXgpOwoKICAgICAgaWYgKGluZGV4ID09PSAwKSB7CiAgICAgICAgaWYgKHRoaXMubWFuMi5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRBcnIgPSB0aGlzLm1hbjsKICAgICAgICAgIHRoaXMuY3VycmVudEFycjIgPSB0aGlzLm1hbjJbMF0uYm9va3M7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuaXNkZWZhdXQoIm1hbiIpOwogICAgICAgIH0gLy8g55S355Sf5Li66buY6K6k6L+b5YWl5pe26YCJ5LitLOaJgOS7peivt+axguaVsOaNruW6lOivpeaUvuWcqGNyZWF0ZWQKICAgICAgICAvLyDnlLfnlJ8s5qC55o2u55S355Sf55qE5pWw5o2u5pWw57uE6YeM6Z2i55qEaWTlj7fojrflj5blkITkuKrmppznmoTmjpLlkI0KCiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IDEpIHsKICAgICAgICAvLyDlpbPnlJ8KICAgICAgICBpZiAodGhpcy5udjIubGVuZ3RoID4gMCkgewogICAgICAgICAgdGhpcy5jdXJyZW50QXJyID0gdGhpcy5udjsKICAgICAgICAgIHRoaXMuY3VycmVudEFycjIgPSB0aGlzLm52MlswXS5ib29rczsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5pc2RlZmF1dCgibnYiKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IDIpIHsKICAgICAgICAvLyDlh7rniYgKICAgICAgICBpZiAodGhpcy5jaHViYW4yLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHRoaXMuY3VycmVudEFyciA9IHRoaXMuY2h1YmFuOwogICAgICAgICAgdGhpcy5jdXJyZW50QXJyMiA9IHRoaXMuY2h1YmFuMlswXS5ib29rczsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5pc2RlZmF1dCgiY2h1YmFuIik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g5LqM57qndGFiCiAgICBvbmNsaWNrVGFiOiBmdW5jdGlvbiBvbmNsaWNrVGFiKHNleCwgdGl0bGUpIHsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRpdGxlLCBzZXggKyAyKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpc1tzZXggKyAyXS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzW3NleCArIDJdW2ldLnNob3J0VGl0bGUgPT09IHRpdGxlKSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRBcnIyID0gdGhpc1tzZXggKyAyXVtpXS5ib29rczsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBpc2RlZmF1dDogZnVuY3Rpb24gaXNkZWZhdXQoc2V4KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB3aW5kb3cuY29uc29sZS5sb2coc2V4KTsKCiAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGkpIHsKICAgICAgICBWdWUuYXhpb3MuZ2V0KCJodHRwOi8vbm92ZWwua2VsZTguY24vcmFuay8iICsgX3RoaXNbc2V4XVtpXS5faWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAvLyDkv53lrZjkuoznuqd0YWLnmoTmr4/kuIDpobnmlbDmja4KICAgICAgICAgIF90aGlzW3NleCArICIyIl0ucHVzaChyZXNwb25zZS5kYXRhLnJhbmtpbmcpOwoKICAgICAgICAgIGlmIChpID09PSAwKSB7CiAgICAgICAgICAgIF90aGlzLmN1cnJlbnRBcnIyID0gX3RoaXNbc2V4ICsgIjIiXVtpXS5ib29rczsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpc1tzZXhdLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgX2xvb3AoaSk7CiAgICAgIH0gLy8g56Gu5a6a5LqM57qndGFiCgoKICAgICAgdGhpcy5jdXJyZW50QXJyID0gdGhpc1tzZXhdOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHdpbmRvdy5jb25zb2xlLmxvZygiY3JlYXRlZCIpOwogIH0sCiAgLy8g57uE5Lu25a6I5Y2r77yM5pys57uE5Lu26KKr5riy5p+T5oiW6LCD55So5YmN5omn6KGM6L+Z6YeM55qE5Luj56CBCiAgLy8g5rOo5oSP5Zyo57uE5Lu25Yib5bu65YmN6L+Q6KGM77yM5oSP5ZGz552A57uE5Lu25rKh6KKr5Yib5bu677yM5omA5LuldGhpc+S4jeWtmOWcqAogIGJlZm9yZVJvdXRlRW50ZXI6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIHdpbmRvdy5jb25zb2xlLmxvZygiYmVmb3JlUm91dGVFbnRlciIpOwogICAgdmFyIFNlYXJjaCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oIlNlYXJjaCIpKTsgLy8gICDov5nph4zml6Dms5Xkvb/nlKh0aGlzLOivt+axguS4ieWkp+aooeWdl+eahOaVsOaNrizov5nph4zliqDliKTmlq3lj6/ku6Xorr7nva7mmK/lkKbnvJPlrZgKCiAgICBpZiAoU2VhcmNoLlJhbmtpbmcpIHsKICAgICAgLy8g5bey57yT5a2Y55qE5oOF5Ya1CiAgICAgIG5leHQoZnVuY3Rpb24gKHZtKSB7CiAgICAgICAgdm0ubWFuID0gU2VhcmNoLlJhbmtpbmcubWFuOwogICAgICAgIHZtLm52ID0gU2VhcmNoLlJhbmtpbmcubnY7CiAgICAgICAgdm0uY2h1YmFuID0gU2VhcmNoLlJhbmtpbmcuY2h1YmFuOwogICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygi6K+75Y+W57yT5a2YIik7CiAgICAgICAgdm0uaXNkZWZhdXQoIm1hbiIpOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIOesrOS4gOasoeiOt+WPluaVsOaNrgogICAgICB2YXIgb2JqID0ge307CiAgICAgIFZ1ZS5heGlvcy5nZXQoImh0dHA6Ly9ub3ZlbC5rZWxlOC5jbi9yYW5rLWNhdGVnb3J5IikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cocmVzcG9uc2UpOyAvLyDlv4XpobvopoHov5DooYxuZXh05Ye95pWwCgogICAgICAgIG5leHQoZnVuY3Rpb24gKHZtKSB7CiAgICAgICAgICAvLyDkuInlpKfmqKHlnZfnmoTlkITkuKp4eOamnAogICAgICAgICAgdm0ubWFuID0gcmVzcG9uc2UuZGF0YS5tYWxlOwogICAgICAgICAgdm0ubnYgPSByZXNwb25zZS5kYXRhLmZlbWFsZTsKICAgICAgICAgIHZtLmNodWJhbiA9IHJlc3BvbnNlLmRhdGEuZXB1YjsKICAgICAgICAgIG9iai5tYW4gPSByZXNwb25zZS5kYXRhLm1hbGU7CiAgICAgICAgICBvYmoubnYgPSByZXNwb25zZS5kYXRhLmZlbWFsZTsKICAgICAgICAgIG9iai5jaHViYW4gPSByZXNwb25zZS5kYXRhLmVwdWI7CiAgICAgICAgICBTZWFyY2guUmFua2luZyA9IG9iajsgLy8g5pu05paw5pys5ZywCgogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIlNlYXJjaCIsIEpTT04uc3RyaW5naWZ5KFNlYXJjaCkpOwogICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCLmlbDmja7ojrflj5blrozmiJAiKTsKICAgICAgICAgIHZtLmlzZGVmYXV0KCJtYW4iKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Ranking.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"ranking\">\r\n    <!-- 头部 -->\r\n    <Headshot :title=\"title\" />\r\n    <!-- 一级水平分类 -->\r\n    <div class=\"justify\">\r\n      <van-tabs v-model=\"active\" @click=\"tabsClickFn\">\r\n        <van-tab title=\"男频\">\r\n          <!-- 二级左边垂直分类 -->\r\n          <div class=\"zhanwei\">\r\n            <div></div>\r\n          </div>\r\n          <van-sidebar v-model=\"activeKey\">\r\n            <van-sidebar-item\r\n              @click=\"onclickTab('man', item.shortTitle)\"\r\n              v-for=\"(item, index) in currentArr\"\r\n              :key=\"index\"\r\n              :title=\"item.shortTitle\"\r\n            />\r\n            <!-- <van-sidebar-item title=\"最热榜\" />\r\n            <van-sidebar-item title=\"潜力榜\" />\r\n            <van-sidebar-item title=\"飙升榜\" />\r\n            <van-sidebar-item title=\"热搜榜\" />\r\n            <van-sidebar-item title=\"完结榜\" />\r\n            <van-sidebar-item title=\"好评榜\" />\r\n            <van-sidebar-item title=\"VIP榜\" />\r\n            <van-sidebar-item title=\"留存榜\" />\r\n            <van-sidebar-item title=\"免费榜\" />-->\r\n\r\n            <!-- 右边排行榜数据列表 -->\r\n          </van-sidebar>\r\n          <div class=\"right\">\r\n            <div class=\"right-box\">\r\n              <booksList\r\n                v-for=\"(item, index) in currentArr2\"\r\n                :key=\"index\"\r\n                :book=\"item\"\r\n                :index=\"index\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </van-tab>\r\n        <van-tab title=\"女频\">\r\n          <!-- 二级左边垂直分类 -->\r\n          <van-sidebar v-model=\"activeKey\">\r\n            <van-sidebar-item\r\n              @click=\"onclickTab('nv', item.shortTitle)\"\r\n              v-for=\"(item, index) in currentArr\"\r\n              :key=\"index\"\r\n              :title=\"item.shortTitle\"\r\n            />\r\n          </van-sidebar>\r\n          <div class=\"right\">\r\n            <div class=\"right-box\">\r\n              <booksList\r\n                v-for=\"(item, index) in currentArr2\"\r\n                :key=\"index\"\r\n                :book=\"item\"\r\n                :index=\"index\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </van-tab>\r\n        <van-tab title=\"出版\">\r\n          <!-- 二级左边垂直分类 -->\r\n          <van-sidebar v-model=\"activeKey\">\r\n            <van-sidebar-item\r\n              @click=\"onclickTab('chuban', item.shortTitle)\"\r\n              v-for=\"(item, index) in currentArr\"\r\n              :key=\"index\"\r\n              :title=\"item.shortTitle\"\r\n            />\r\n             <div class=\"right\">\r\n            <div class=\"right-box\">\r\n              <booksList\r\n                v-for=\"(item, index) in currentArr2\"\r\n                :key=\"index\"\r\n                :book=\"item\"\r\n                :index=\"index\"\r\n              />\r\n            </div>\r\n          </div>\r\n          </van-sidebar>\r\n        </van-tab>\r\n      </van-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Headshot from \"../components/headshot\";\r\nimport booksList from \"../components/booksList\";\r\nimport Vue from \"vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      title: \"排行榜\",\r\n      active: 0,\r\n      activeKey: 0,\r\n      man: [],\r\n      nv: [],\r\n      chuban: [],\r\n      man2: [],\r\n      nv2: [],\r\n      chuban2: [],\r\n      currentArr: [],\r\n      currentArr2: [],\r\n      tabs: [\r\n        \"畅销榜\",\r\n        \"最热榜\",\r\n        \"潜力榜\",\r\n        \"飙升榜\",\r\n        \"热搜榜\",\r\n        \"完结榜\",\r\n        \"好评榜\",\r\n        \"VIP榜\",\r\n        \"留存榜\"\r\n      ]\r\n    };\r\n  },\r\n  components: {\r\n    Headshot,\r\n    booksList\r\n  },\r\n  methods: {\r\n    // 一级tab\r\n    tabsClickFn(index, title) {\r\n      window.console.log(title, index);\r\n      if (index === 0) {\r\n        if (this.man2.length > 0) {\r\n          this.currentArr = this.man;\r\n          this.currentArr2 = this.man2[0].books;\r\n        } else {\r\n          this.isdefaut(\"man\");\r\n        }\r\n        // 男生为默认进入时选中,所以请求数据应该放在created\r\n        // 男生,根据男生的数据数组里面的id号获取各个榜的排名\r\n      } else if (index === 1) {\r\n        // 女生\r\n        if (this.nv2.length > 0) {\r\n          this.currentArr = this.nv;\r\n          this.currentArr2 = this.nv2[0].books;\r\n        } else {\r\n          this.isdefaut(\"nv\");\r\n        }\r\n      } else if (index === 2) {\r\n        // 出版\r\n        if (this.chuban2.length > 0) {\r\n          this.currentArr = this.chuban;\r\n          this.currentArr2 = this.chuban2[0].books;\r\n        } else {\r\n          this.isdefaut(\"chuban\");\r\n        }\r\n      }\r\n    },\r\n    // 二级tab\r\n    onclickTab(sex, title) {\r\n      window.console.log(title, sex + 2);\r\n      for (let i = 0; i < this[sex + 2].length; i++) {\r\n        if (this[sex + 2][i].shortTitle === title) {\r\n          this.currentArr2 = this[sex + 2][i].books;\r\n        }\r\n      }\r\n    },\r\n    isdefaut(sex) {\r\n      window.console.log(sex);\r\n      for (let i = 0; i < this[sex].length; i++) {\r\n        Vue.axios\r\n          .get(\"http://novel.kele8.cn/rank/\" + this[sex][i]._id)\r\n          .then(response => {\r\n            // 保存二级tab的每一项数据\r\n            this[sex + \"2\"].push(response.data.ranking);\r\n            if (i === 0) {\r\n              this.currentArr2 = this[sex + \"2\"][i].books;\r\n            }\r\n          });\r\n      }\r\n      // 确定二级tab\r\n      this.currentArr = this[sex];\r\n    }\r\n  },\r\n  created() {\r\n    window.console.log(\"created\");\r\n  },\r\n  // 组件守卫，本组件被渲染或调用前执行这里的代码\r\n  // 注意在组件创建前运行，意味着组件没被创建，所以this不存在\r\n  beforeRouteEnter(to, from, next) {\r\n    window.console.log(\"beforeRouteEnter\");\r\n    var Search = JSON.parse(localStorage.getItem(\"Search\"));\r\n    //   这里无法使用this,请求三大模块的数据,这里加判断可以设置是否缓存\r\n    if (Search.Ranking) {\r\n      // 已缓存的情况\r\n      next(vm => {\r\n        vm.man = Search.Ranking.man;\r\n        vm.nv = Search.Ranking.nv;\r\n        vm.chuban = Search.Ranking.chuban;\r\n        window.console.log(\"读取缓存\");\r\n        vm.isdefaut(\"man\");\r\n      });\r\n    } else {\r\n      // 第一次获取数据\r\n      var obj = {};\r\n\r\n      Vue.axios.get(\"http://novel.kele8.cn/rank-category\").then(response => {\r\n        window.console.log(response);\r\n        // 必须要运行next函数\r\n        next(vm => {\r\n          // 三大模块的各个xx榜\r\n          vm.man = response.data.male;\r\n          vm.nv = response.data.female;\r\n          vm.chuban = response.data.epub;\r\n\r\n          obj.man = response.data.male;\r\n          obj.nv = response.data.female;\r\n          obj.chuban = response.data.epub;\r\n          Search.Ranking = obj;\r\n          // 更新本地\r\n          localStorage.setItem(\"Search\", JSON.stringify(Search));\r\n          window.console.log(\"数据获取完成\");\r\n\r\n          vm.isdefaut(\"man\");\r\n        });\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.ranking {\r\n  .justify {\r\n    width: 100%;\r\n    position: fixed;\r\n    top: 1.17333rem;\r\n    left: 0;\r\n    .van-tab__pane {\r\n      display: flex;\r\n      flex-flow: row;\r\n      .zhanwei {\r\n        min-width: 85px;\r\n        height: 100%;\r\n      }\r\n      .van-sidebar {\r\n        position: fixed;\r\n        overflow-y: scroll;\r\n        overflow-x: hidden;\r\n\r\n        // 要设置top和bottom才会发生滚动条\r\n        top: 81px;\r\n        bottom: 0;\r\n      }\r\n\r\n      .right {\r\n        flex-grow: 1;\r\n        .right-box {\r\n          width: 235px;\r\n          // 设置了绝对定位flex-grow会失效\r\n          position: fixed;\r\n          left: 85px;\r\n          top: 81px;\r\n          bottom: 0;\r\n          overflow-y: scroll;\r\n          overflow-x: hidden;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/views"}]}