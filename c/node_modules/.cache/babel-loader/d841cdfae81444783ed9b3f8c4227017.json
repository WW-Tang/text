{"remainingRequest":"H:\\1962VUE-cil-router\\vueAPp\\fictionApp\\node_modules\\babel-loader\\lib\\index.js!H:\\1962VUE-cil-router\\vueAPp\\fictionApp\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!H:\\1962VUE-cil-router\\vueAPp\\fictionApp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!H:\\1962VUE-cil-router\\vueAPp\\fictionApp\\src\\views\\Classifycation.vue?vue&type=script&lang=js&","dependencies":[{"path":"H:\\1962VUE-cil-router\\vueAPp\\fictionApp\\src\\views\\Classifycation.vue","mtime":1584884604000},{"path":"H:\\1962VUE-cil-router\\vueAPp\\fictionApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\1962VUE-cil-router\\vueAPp\\fictionApp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"H:\\1962VUE-cil-router\\vueAPp\\fictionApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\1962VUE-cil-router\\vueAPp\\fictionApp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgaGVhZHNob3QgZnJvbSAiLi4vY29tcG9uZW50cy9oZWFkc2hvdCI7CmltcG9ydCBzZWFyY2hpdGVtIGZyb20gIi4uL2NvbXBvbmVudHMvc2VhcmNoaXRlbSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2VhcmNoTGlzdCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIFNlYXJjaExpc3Q6IFtdLAogICAgICB0eXBlOiAiaG90IiwKICAgICAgbWlub3I6ICIiLAogICAgICBpbmRleDE6IDAsCiAgICAgIGluZGV4MjogLTEsCiAgICAgIHRvcDE6IFt7CiAgICAgICAgdGl0bGU6ICLng63pl6giLAogICAgICAgIHR5cGU6ICJob3QiCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIuaWsOS5piIsCiAgICAgICAgdHlwZTogIm5ldyIKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAi5aW96K+EIiwKICAgICAgICB0eXBlOiAicmVwdXRhdGlvbiIKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAi5a6M57uTIiwKICAgICAgICB0eXBlOiAib3ZlciIKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAi5YyF5pyIIiwKICAgICAgICB0eXBlOiAibW9udGhseSIKICAgICAgfV0sCiAgICAgIHRvcDI6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIGNvbXBvbmVudHM6IHsKICAgIGhlYWRzaG90OiBoZWFkc2hvdCwKICAgIHNlYXJjaGl0ZW06IHNlYXJjaGl0ZW0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdvUm91dGV4aWFuZ3Fpbmd5ZUZuOiBmdW5jdGlvbiBnb1JvdXRleGlhbmdxaW5neWVGbihpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogIi94aWFuZ3Fpbmd5ZSIsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGlkOiBpZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb25DbGlja1R5cGVGbjogZnVuY3Rpb24gb25DbGlja1R5cGVGbih0eXBlLCBpbmRleCkgewogICAgICB0aGlzLnR5cGUgPSB0eXBlOwogICAgICB0aGlzLmluZGV4MSA9IGluZGV4OwogICAgICB0aGlzLmFqYXh1cGRhdGEoKTsKICAgIH0sCiAgICBvbkNsaWNrTWlub3JGbjogZnVuY3Rpb24gb25DbGlja01pbm9yRm4obWlub3IsIGluZGV4KSB7CiAgICAgIHRoaXMubWlub3IgPSBtaW5vcjsKICAgICAgdGhpcy5pbmRleDIgPSBpbmRleDsKICAgICAgdGhpcy5hamF4dXBkYXRhKCk7CiAgICB9LAogICAgb25jbGlja01pbm9yT25lOiBmdW5jdGlvbiBvbmNsaWNrTWlub3JPbmUoKSB7CiAgICAgIHRoaXMubWlub3IgPSAiIjsKICAgICAgdGhpcy5pbmRleDIgPSAtMTsKICAgICAgdGhpcy5hamF4dXBkYXRhKCk7CiAgICB9LAogICAgYWpheHVwZGF0YTogZnVuY3Rpb24gYWpheHVwZGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MuZ2V0KCJodHRwOi8vbm92ZWwua2VsZTguY24vY2F0ZWdvcnktaW5mbz9nZW5kZXI9IiArIHRoaXMuJHJvdXRlLnF1ZXJ5LmdlbmRlciArICImdHlwZT0iICsgdGhpcy50eXBlICsgIiZtYWpvcj0iICsgdGhpcy4kcm91dGUucGFyYW1zLmlkICsgIiZtaW5vcj0iICsgdGhpcy5taW5vciArICImc3RhcnQ9MCZsaW1pdD0yMCIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICBfdGhpcy5TZWFyY2hMaXN0ID0gcmVzcG9uc2UuZGF0YS5ib29rczsKICAgICAgfSk7CiAgICB9CiAgfSwKICAvLyDnu4Tku7blhoXnmoTlrojljasKICAvLyDlnKjmnKznu4Tku7booqvmuLLmn5Pml7bvvIzooqvosIPnlKggLyDnu4Tku7blrp7kvovooqvliJvlu7rliY3miafooYwKICAvLyDkuI3og73osIPnlKgg57uE5Lu25a6e5L6LIHRoaXMKICAvLyDlm6DkuLrlvZPliY3lrojljavmiafooYzml7bvvIznu4Tku7blrp7kvovov5jmsqHmnInooqvliJvlu7oKICBiZWZvcmVSb3V0ZUVudGVyOiBmdW5jdGlvbiBiZWZvcmVSb3V0ZUVudGVyKHRvLCBmcm9tLCBuZXh0KSB7CiAgICBWdWUuYXhpb3MuZ2V0KCJodHRwOi8vbm92ZWwua2VsZTguY24vc3ViLWNhdGVnb3JpZXMiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgbmV4dChmdW5jdGlvbiAodm0pIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcy5kYXRhW3RvLnF1ZXJ5LmdlbmRlcl0ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmIChyZXMuZGF0YVt0by5xdWVyeS5nZW5kZXJdW2ldLm1ham9yID09PSB0by5wYXJhbXMuaWQpIHsKICAgICAgICAgICAgdm0udG9wMiA9IHJlcy5kYXRhW3RvLnF1ZXJ5LmdlbmRlcl1baV0ubWluczsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZtLmF4aW9zLmdldCgiaHR0cDovL25vdmVsLmtlbGU4LmNuL2NhdGVnb3J5LWluZm8/Z2VuZGVyPSIgKyB0by5xdWVyeS5nZW5kZXIgKyAiJnR5cGU9IiArIHZtLnR5cGUgKyAiJm1ham9yPSIgKyB0by5wYXJhbXMuaWQgKyAiJm1pbm9yPSIgKyB2bS5taW5vciArICImc3RhcnQ9MCZsaW1pdD0yMCIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgdm0uU2VhcmNoTGlzdCA9IHJlc3BvbnNlLmRhdGEuYm9va3M7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["Classifycation.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"searchList\">\r\n    <headshot :title=\"$route.params.id\" />\r\n    <div class=\"wrapper\">\r\n      <div class=\"item\">\r\n        <!-- 一级筛选type -->\r\n        <div class=\"top1\">\r\n          <ul>\r\n            <li\r\n              :class=\"{active: index === index1}\"\r\n              @click.stop=\"onClickTypeFn(item.type, index)\"\r\n              v-for=\"(item, index) in top1\"\r\n              :key=\"index\"\r\n            >{{item.title}}</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"item\">\r\n        <!-- 二级筛选 -->\r\n        <div class=\"top2\">\r\n          <ul>\r\n            <li @click.stop=\"onclickMinorOne\" :class=\"{active: -1 === index2}\">全部</li>\r\n            <li\r\n              @click.stop=\"onClickMinorFn(item, index)\"\r\n              :class=\"{active: index === index2}\"\r\n              v-for=\"(item, index) in top2\"\r\n              :key=\"index\"\r\n            >{{item}}</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"main\">\r\n      <ul>\r\n        <li\r\n          v-for=\"(item, index) in SearchList\"\r\n          :key=\"index\"\r\n          @click.stop=\"goRoutexiangqingyeFn(item._id)\"\r\n        >\r\n          <searchitem :item=\"item\" />\r\n        </li>\r\n        <li class=\"footer\">\r\n          <span>没有更多书籍</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Vue from \"vue\";\r\nimport headshot from \"../components/headshot\";\r\nimport searchitem from \"../components/searchitem\";\r\nexport default {\r\n  name: \"SearchList\",\r\n  data() {\r\n    return {\r\n      SearchList: [],\r\n      type: \"hot\",\r\n      minor: \"\",\r\n      index1: 0,\r\n      index2: -1,\r\n      top1: [\r\n        {\r\n          title: \"热门\",\r\n          type: \"hot\"\r\n        },\r\n        {\r\n          title: \"新书\",\r\n          type: \"new\"\r\n        },\r\n        {\r\n          title: \"好评\",\r\n          type: \"reputation\"\r\n        },\r\n        {\r\n          title: \"完结\",\r\n          type: \"over\"\r\n        },\r\n        {\r\n          title: \"包月\",\r\n          type: \"monthly\"\r\n        }\r\n      ],\r\n      top2: []\r\n    };\r\n  },\r\n  computed: {},\r\n  components: {\r\n    headshot,\r\n    searchitem\r\n  },\r\n  methods: {\r\n    goRoutexiangqingyeFn(id) {\r\n      this.$router.push({\r\n        path: \"/xiangqingye\",\r\n        query: {\r\n          id: id\r\n        }\r\n      });\r\n    },\r\n    onClickTypeFn(type, index) {\r\n      this.type = type;\r\n      this.index1 = index;\r\n      this.ajaxupdata();\r\n    },\r\n    onClickMinorFn(minor, index) {\r\n      this.minor = minor;\r\n      this.index2 = index;\r\n      this.ajaxupdata();\r\n    },\r\n    onclickMinorOne() {\r\n      this.minor = \"\";\r\n      this.index2 = -1;\r\n      this.ajaxupdata();\r\n    },\r\n    ajaxupdata() {\r\n      this.axios\r\n        .get(\r\n          \"http://novel.kele8.cn/category-info?gender=\" +\r\n            this.$route.query.gender +\r\n            \"&type=\" +\r\n            this.type +\r\n            \"&major=\" +\r\n            this.$route.params.id +\r\n            \"&minor=\" +\r\n            this.minor +\r\n            \"&start=0&limit=20\"\r\n        )\r\n        .then(response => {\r\n          window.console.log(response);\r\n          this.SearchList = response.data.books;\r\n        });\r\n    }\r\n  },\r\n  // 组件内的守卫\r\n  // 在本组件被渲染时，被调用 / 组件实例被创建前执行\r\n  // 不能调用 组件实例 this\r\n  // 因为当前守卫执行时，组件实例还没有被创建\r\n  beforeRouteEnter(to, from, next) {\r\n    Vue.axios.get(\"http://novel.kele8.cn/sub-categories\").then(res => {\r\n      next(vm => {\r\n        for (let i = 0; i < res.data[to.query.gender].length; i++) {\r\n          if (res.data[to.query.gender][i].major === to.params.id) {\r\n            vm.top2 = res.data[to.query.gender][i].mins;\r\n          }\r\n        }\r\n\r\n        vm.axios\r\n          .get(\r\n            \"http://novel.kele8.cn/category-info?gender=\" +\r\n              to.query.gender +\r\n              \"&type=\" +\r\n              vm.type +\r\n              \"&major=\" +\r\n              to.params.id +\r\n              \"&minor=\" +\r\n              vm.minor +\r\n              \"&start=0&limit=20\"\r\n          )\r\n          .then(response => {\r\n            window.console.log(response);\r\n            vm.SearchList = response.data.books;\r\n          });\r\n      });\r\n    });\r\n  }\r\n};\r\n</script>\r\n<style lang='less' scoped>\r\n.searchList {\r\n  width: 100%;\r\n  height: auto;\r\n  background-color: #f5f2ed;\r\n  .main {\r\n    padding-top: 80px;\r\n    & > ul {\r\n      width: 100%;\r\n      height: auto;\r\n      margin-top: 10px;\r\n      & > li {\r\n        width: 100%;\r\n        margin-bottom: 10px;\r\n        padding-left: 15px;\r\n      }\r\n      & > li.footer {\r\n        padding: 10px 0;\r\n        margin-bottom: 0px;\r\n        height: 30px;\r\n        line-height: 0px;\r\n        span {\r\n          color: #999;\r\n          font-size: 12px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .wrapper {\r\n    position: fixed;\r\n    top: 38px;\r\n    left: 0;\r\n    width: 100%;\r\n    color: #666;\r\n    background-color: #fff;\r\n    z-index: 100;\r\n    .item {\r\n      background-size: 100% 1px;\r\n      background-image: linear-gradient(180deg, transparent 50%, #ddd 0);\r\n      background-repeat: no-repeat;\r\n      background-position: bottom;\r\n      position: relative;\r\n      width: 100%;\r\n      height: 1.2rem;\r\n      line-height: 1.2rem;\r\n      overflow: hidden;\r\n      .top1,\r\n      .top2 {\r\n        height: 100%;\r\n        overflow-x: auto;\r\n        ul {\r\n          width: auto;\r\n          height: 100%;\r\n          white-space: nowrap;\r\n          text-overflow: ellipsis;\r\n          font-size: 0;\r\n          li {\r\n            display: inline-block;\r\n            height: 100%;\r\n            padding: 0 0.26667rem;\r\n            font-size: 13px;\r\n            text-align: left;\r\n            &.active {\r\n              color: #b93321;\r\n            }\r\n            &.first-child {\r\n              padding-left: 0.4rem;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>>\r\n"],"sourceRoot":"src/views"}]}